<script language="JavaScript">
function fCheck() {

	if(save.configName.value=="") {
		alert("请输入配置名称");
		return false;
	}
	return true;
}
</script>
					<form name="save" method=post action="{post_to}" onSubmit="return fCheck()">
					<center>
					<table width="100%" cellpadding="0" cellspacing="0" border="0" style="border-collapse: collapse">
						<tr>
							<td height="25" background="images/tb_background.gif" colspan="4">&nbsp;&nbsp;<font color="#FFFFFF">对应关系列表</font></td>
						</tr>
						<!-- BEGIN field_list -->
						<tr>
							<td height="25" width="100%"colspan="4" bgcolor="#EFEFEF" style="border: 1px solid #CCCCCC">&nbsp;&nbsp;{article_table}</td>
						</tr>
						<tr>
							<td style="border: 1px solid #CCCCCC" height="25" width="10%" bgcolor="#F7F7F7"><center>序号</center></td>
							<td style="border: 1px solid #CCCCCC" width="52%" bgcolor="#F7F7F7">&nbsp;&nbsp;字段</td>
							<td style="border: 1px solid #CCCCCC" width="28%" bgcolor="#F7F7F7"><center>对应</center></td>
							<td style="border: 1px solid #CCCCCC" width="10%" bgcolor="#F7F7F7"><center>模板</center></td>
						</tr>
						<!-- BEGIN list -->
						<tr onMouseOver="this.style.backgroundColor = '#F7F7F7'" onMouseOut="this.style.backgroundColor = ''">
							<td style="border: 1px solid #CCCCCC" height="30" bgcolor="#F7F7F7"><center>{order}</center></td>
							<td style="border: 1px solid #CCCCCC">&nbsp;&nbsp;{fields}</td>
							<td style="border: 1px solid #CCCCCC">&nbsp;&nbsp;<input type="text" name="hypotaxis[{article_table_id}][{fields}]" size="25" value="{value}" class="button"></td>
							<td style="border: 1px solid #CCCCCC"><center><input type="checkbox" name=""></center></td>
						</tr>
						<!-- END list -->
						<!-- END field_list -->
						<tr>
							<td height="25" width="100%"colspan="4" bgcolor="#EFEFEF" style="border: 1px solid #CCCCCC"><p align="center">导入配置命名</td>
						</tr>
						<tr>
							<td style="border: 1px solid #CCCCCC" height="30" width="10%" bgcolor="#EFEFEF"><center>名字</center></td>
							<td style="border: 1px solid #CCCCCC" width="60%" colspan="3">&nbsp;&nbsp;<input type="text" name="configName" size="40" value="{configName}" class="button">&nbsp;&nbsp;同时作为模板保存 <input type="radio" name="astpl" value="0" checked onclick="showObj('tpl','hide')"> 不 <input type="radio" name="astpl" value="1" onclick="showObj('tpl','show')"> 是</td>
						</tr>
						<script>
						function showObj(objID, action)
						{
							var obj = document.getElementById(objID);
							action = (action == "show") ? "block" : "none";
							obj.style.display = action;
						}
						</script>
						<tr id="tpl" style="display:none">
							<td style="border: 1px solid #CCCCCC" height="30" width="10%" bgcolor="#EFEFEF"><center>模板</center></td>
							<td style="border: 1px solid #CCCCCC" width="60%" colspan="3">
								&nbsp;&nbsp;<input type="text" name="tplName" size="40" value="{tplName}" class="button">&nbsp;&nbsp;(模板功能目前暂时不开发,将会在日后支持)
							</td>
						</tr>
						<tr>
							<td style="border: 1px solid #CCCCCC" height="30" width="10%" bgcolor="#EFEFEF"><center>采集器</center></td>
							<td style="border: 1px solid #CCCCCC" width="60%" colspan="3">
								<table width="100%">
								<tr>
									<td width="45%">
										<br>
										&nbsp;&nbsp;<select name="rulesID[]" size="10" multiple style="width:250">
										<!-- BEGIN option -->
										<option value="{rulesID}"{selected}>{rulesName}</option>
										<!-- END option -->
										</select><br><br>
									</td>
									<td width="55%" valign="top">
										<br>
										采集器选择说明：<br><br>
										您可以从旁边的列表选择您已经配置好的采集器。<br><br>
										在导入数据时，被您选中的采集器的数据将会被导入到本配置中。<br><br>
										您可以选择一个或多个采集器对应本配置。(按住Ctrl可以选择多个采集器)
									</td>
								</tr>
							</table>
							</td>
						</tr>
						<tr>
							<td height="25" width="100%"colspan="4" bgcolor="#EFEFEF" style="border: 1px solid #CCCCCC"><p align="center">统计更新</td>
						</tr>
						<script language="javascript">
							function setid()
							{
								  str='<table width="100%" cellpadding="0" cellspacing="0" border="0" style="border-collapse: collapse">';
								  if(!window.save.recount.value)
								   window.save.recount.value=1;
								  for(i={js_i};i<({js_i} + eval(window.save.recount.value));i++)
									 str+='<tr><td style="border: 1px solid #CCCCCC" height="30" width="10%" bgcolor="#F7F7F7"><center>'+i+'</center></td><td style="border: 1px solid #CCCCCC" width="20%"><center><input type="text" name="count_fields['+i+']" size="15" class="button"></center></td><td style="border: 1px solid #CCCCCC" width="20%"><center><input type="text" name="count_fields_value['+i+']" size="15" class="button"></center></td><td style="border: 1px solid #CCCCCC" width="20%"><center><input type="text" name="count_rules['+i+']" size="15" class="button"></center></td><td style="border: 1px solid #CCCCCC" width="20%"><center><input type="text" name="count_rules_value['+i+']" size="15" class="button"></center></td></tr>';
								  window.recountid.innerHTML=str+'</table>';
							}
					  </script>
						<tr>
							<td height="30" width="100%"colspan="4" style="border: 1px solid #CCCCCC" align="right" bgcolor="#F7F7F7">
								需要更新的字段个数&nbsp;&nbsp;<input type="text" name="recount" value="1" size="3" class="button">&nbsp;&nbsp;<input type="button" onclick="setid();" value="设定" class="button">&nbsp;&nbsp;
							</td>
						</tr>
						<tr>
							<td colspan="3" height="2"></td>
						</tr>
						<tr>
							<td width="100%" colspan="4">
								<table width="100%" cellpadding="0" cellspacing="0" border="0" style="border-collapse: collapse">
								<tr>
									<td style="border: 1px solid #CCCCCC" height="25" width="10%" bgcolor="#EFEFEF"><center>序号</center></td>
									<td style="border: 1px solid #CCCCCC" width="20%" bgcolor="#EFEFEF">&nbsp;&nbsp;数据表</td>
									<td style="border: 1px solid #CCCCCC" width="20%" bgcolor="#EFEFEF"><center>更新字段</center></td>
									<td style="border: 1px solid #CCCCCC" width="20%" bgcolor="#EFEFEF"><center>联系字段</center></td>
									<td style="border: 1px solid #CCCCCC" width="20%" bgcolor="#EFEFEF"><center>规则</center></td>
								</tr>
								</table>
							</td>
						</tr>
						<tr>
							<td colspan="4" height="2"></td>
						</tr>
						<tr>
							<td colspan="4">
							<table width="100%" cellpadding="0" cellspacing="0" border="0" style="border-collapse: collapse">
							<!-- BEGIN count -->
								<tr>
									<td style="border: 1px solid #CCCCCC" height="30" width="10%" bgcolor="#F7F7F7"><center>{count_id}</center></td>
									<td style="border: 1px solid #CCCCCC" width="20%"><center><input type="text" name="count_fields[{count_id}]" size="15" value="{count_fields}" class="button"></center></td>
									<td style="border: 1px solid #CCCCCC" width="20%"><center><input type="text" name="count_fields_value[{count_id}]" size="15" value="{count_fields_value}" class="button"></center></td>
									<td style="border: 1px solid #CCCCCC" width="20%"><center><input type="text" name="count_rules[{count_id}]" size="15" value="{count_rules}" class="button"></center></td>
									<td style="border: 1px solid #CCCCCC" width="20%"><center><input type="text" name="count_rules_value[{count_id}]" size="15" value="{count_rules_value}" class="button"></center></td>
								</tr>
							<!-- END count -->
							</table>
							</td>
						</tr>
						<tr>
							<td colspan="4" height="2"></td>
						</tr>
						<tr>
							<td colspan="4" id="recountid"></td>
						</tr>
						<tr>
							<td colspan="4" height="2"></td>
						</tr>
						<tr>
							<td height="25" width="100%"colspan="4" bgcolor="#EFEFEF" style="border: 1px solid #CCCCCC"><p align="center">导入向导</td>
						</tr>
						<tr>
							<td width="100%" colspan="4" bgcolor="#F7F7F7" style="border: 1px solid #CCCCCC">
								<center>
								<table width="98%">
								<tr>
									<td height="5"></td>
								</tr>
								<tr>
									<td>
									上面是您刚才建立的对应关系列表,在检查无误后,输入导入配置命名,点“下一步”保存导入配置.<br>
									如果发现有设置不当的或者错误的地方,您可以点“上一步”重新建立对应关系.
									</td>
								</tr>
								<tr>
									<td height="5"></td>
								</tr>
								</table>
								</center>
							</td>
						</tr>
						<tr>
							<td height="30" width="100%" colspan="4" bgcolor="#EFEFEF" style="border: 1px solid #CCCCCC"><p align="right"><input type="button" onclick="JAVASCRIPT:history.go(-1);" value="上一步" class="button">&nbsp;<input type="submit" value="下一步" class="button">&nbsp;&nbsp;</td>
						</tr>
					</table>
					</center>
					</form>